<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Statistics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
<div id="navbar" th:insert="navbar :: navbar"></div>
<div class="container text-center mx-5 my-5">
    <div class="row">
        <div class="col-2">
            <h3>Your data according to your goal</h3>
            <hr>
            <ul class="list-1 img-indent-bot">
                <li th:text="|Height: ${user.height}|"></li>
                <li th:text="|Current weight: ${user.weight}|"></li>
                <li th:text="|Desired weight: ${user.goalWeight}|"></li>
                <li th:text="|Activity level: ${user.activityType}|"></li>
                <hr>
                <li th:text="|Your BMR: ${#numbers.formatDecimal(user.basalMetabolicRate, 0, 2)}|"></li>
                <hr>
                <h6>
                    <li th:text="|Recommended calorie intake to achieve result: ${#numbers.formatDecimal(user.caloriesForResult, 0, 2)}|"></li>
                </h6>
            </ul>
            <h3><a class="button-2" href="/calorieCalculator">Change Data</a></h3>
            <hr>
        </div>
        <div class="col-1"></div>
        <div class="col">
            <h3>Daily Statistics</h3>
            <hr>
            <div>
                <form method="GET">
                    <div class="row g-3">
                        <div class="col-auto">
                            <input type="date" class="form-control" id="date" placeholder="Date" name="filterDate">
                        </div>
                        <div class="col-auto">
                            <button type="submit">Filter by Date</button>
                        </div>
                        <br>
                        <div class="col-auto">
                            <form method="get">
                                <select id="sort" name="sort">
                                    <option selected=""></option>
                                    <option value="dateAsc">Date ↑</option>
                                    <option value="dateDesc">Date ↓</option>
                                </select>
                                <button type="submit">Sort by</button>
                                <br>
                            </form>
                        </div>
                    </div>
                    <h3 th:text="${message}" th:style="#{message} != 0? 'color: black': 'color: black'"></h3>
                    <hr>
                    <article class="grid_8 alpha">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Goal</th>
                                <th scope="col"></th>
                                <th scope="col">Intake</th>
                                <th scope="col"></th>
                                <th scope="col">Remainder</th>
                                <th scope="col"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="day : ${diary}">
                                <td th:text="${day.dateFromDiary}"></td>
                                <td th:text="${#numbers.formatDecimal(day.dailyCalorieGoal, 1, 2)}"></td>
                                <td th:text="|-|"></td>
                                <td th:text="${#numbers.formatDecimal(day.dailyCalorieConsumption, 1, 2)}"></td>
                                <td th:text="|=|"></td>
                                <td th:text="${#numbers.formatDecimal(day.dailyCalorieBalance, 1, 2)}"></td>
                                <td th:text="|kcal|"></td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="text-left">
                            <br>
                            <h3>!PLEASE NOTE!</h3>
                            Reduced calorie meals per day (800 kcal -1200 kcal) are recommended only on prescription and
                            under medical supervision. Nutrition below 800 calories is dangerous for your health. If the
                            calculated data for the goal is less than these figures, you have to increase the period for
                            which you want to achieve the goal.<br>
                            A common recommendation to spark weight loss is a low calorie diet of 1200–1500 calories
                            per day for adult women and 1500–1800 calories per day for adult men (
                            <a th:href="@{https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6163457/}" th:target="_blank">
                                Optimal Dietary Approach</a>)<br>
                        </div>
                    </article>
                </form>
            </div>
        </div>
    </div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>
</body>
</html>